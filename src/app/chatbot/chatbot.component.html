<!-- Floating Chat Icon (Hidden when open) -->
<div class="fixed bottom-4 right-4" [ngClass]="{ 'hidden': isOpen }">
  <button (click)="toggleChat()" class="bg-blue-600 p-3 rounded-full shadow-lg">
    <img src="assets/icons/chat.svg" alt="Chat" class="w-10 h-10">
  </button>
</div>

<!-- Chatbox -->
<div *ngIf="isOpen" class="fixed bottom-4 right-4 w-80 bg-white border border-gray-300 rounded-lg shadow-xl">
  <!-- Chat Header -->
  <div class="bg-blue-600 text-white p-3 flex justify-between items-center rounded-t-lg">
    <span class="font-bold">Chat Support</span>
    <button (click)="toggleChat()" class="close-btn">âœ–</button>
  </div>

  <!-- Messages -->
  <div id="chat-container" class="h-72 overflow-y-auto p-3 flex flex-col space-y-3">
    <div *ngFor="let msg of messages">
      <div [ngClass]="msg.sender === 'user' ? 'chat-user' : 'chat-bot'">
        {{ msg.text }}
      </div>
    </div>
  </div>

  <!-- Input Field -->
  <div class="mt-2 flex p-3 border-t border-gray-200 bg-white rounded-b-xl">
    <input [(ngModel)]="userInput" (keyup.enter)="sendMessage()"
           class="flex-1 p-3 border border-gray-300 rounded-l-lg shadow-md"
           placeholder="Type your question...">
    <button (click)="sendMessage()" class="bg-blue-500 px-4 rounded-r-lg hover:bg-blue-600 transition">
      <img src="assets/icons/send.svg" alt="Send" class="w-7 h-7">
    </button>
  </div>
</div>
